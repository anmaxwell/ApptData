install.packages('readr')
library(readr)
install.packages('readr')
install.packages("readr")
install.packages('dplyr')
library(readr)
library(dplyr)
Apr_20 <- read_csv('CCG_CSV_Apr_20.csv')
Apr_21 <- read_csv('CCG_CSV_Apr_21.csv')
Aug_19 <- read_csv('CCG_CSV_Aug_19.csv')
Aug_20 <- read_csv('CCG_CSV_Aug_20.csv')
Aug_21 <- read_csv('CCG_CSV_Aug_21.csv')
Dec_19 <- read_csv('CCG_CSV_Dec_19.csv')
Dec_20 <- read_csv('CCG_CSV_Dec_20.csv')
Feb_20 <- read_csv('CCG_CSV_Feb_20.csv')
Feb_21 <- read_csv('CCG_CSV_Feb_21.csv')
Jan_21 <- read_csv('CCG_CSV_Jan_21.csv')
Jan_20 <- read_csv('CCG_CSV_Jan_20.csv')
Jul_19 <- read_csv('CCG_CSV_Jul_19.csv')
Jun_19 <- read_csv('CCG_CSV_Jun_19.csv')
Jun_20 <- read_csv('CCG_CSV_Jun_20.csv')
Jul_20 <- read_csv('CCG_CSV_Jul_20.csv')
Jul_21 <- read_csv('CCG_CSV_Jul_21.csv')
Jun_21 <- read_csv('CCG_CSV_Jun_21.csv')
Mar_21 <- read_csv('CCG_CSV_Mar_21.csv')
Mar_20 <- read_csv('CCG_CSV_Mar_20.csv')
May_20 <- read_csv('CCG_CSV_May_20.csv')
May_21 <- read_csv('CCG_CSV_May_21.csv')
May_19 <- read_csv('CCG_CSV_May_19.csv')
Nov_19 <- read_csv('CCG_CSV_Nov_19.csv')
Nov_20 <- read_csv('CCG_CSV_Nov_20.csv')
Oct_19 <- read_csv('CCG_CSV_Oct_19.csv')
Oct_20 <- read_csv('CCG_CSV_Oct_20.csv')
Oct_21 <- read_csv('CCG_CSV_Oct_21.csv')
Sep_19 <- read_csv('CCG_CSV_Sep_19.csv')
Sep_20 <- read_csv('CCG_CSV_Sep_20.csv')
Sep_21 <- read_csv('CCG_CSV_Sep_21.csv')
View(Apr_20)
GroupedData <- rbind(Apr_20, Apr_21, Aug_19, Aug_20, Aug_21, Dec_19, Dec_20, Feb_20, Feb_21, Jan_20, Jan_21, Jul_19, Jul_20, Jul_21, Jun_19, Jun_20, Jun_21, Mar_20, Mar_21, May_19, May_20, May_21, Nov_19, Nov_20, Oct_19, Oct_20, Oct_21, Sep_19, Sep_20, Sep_21)
View(Feb_21)
unique(Feb_21$TIME_BETWEEN_BOOK_AND_APPT)
View(GroupedData)
GroupedData('BOOKED') <- GroupedData('TIME_BETWEEN_BOOK_AND_APPT')
View(Dec_20)
GroupedData['BOOKED'] <- GroupedData['TIME_BETWEEN_BOOK_AND_APPT']
View(GroupedData)
GroupedData <- mutate(GroupedData, BOOKED=recode(BOOKED, '2 to 7 Days'=5, "1 Day" = 1, "15  to 21 Days" = 18))
GroupedData <- mutate(GroupedData, BOOKED=recode(BOOKED, "Same Day"=0))
GroupedData['BOOKED'] <- GroupedData['TIME_BETWEEN_BOOK_AND_APPT']
GroupedData <- mutate(GroupedData, BOOKED=recode(BOOKED, '2 to 7 Days'=5, "1 Day" = 1, "15  to 21 Days" = 18, "8  to 14 Days" = 11, "22  to 28 Days" = 25, "More than 28 Days" = 35, "Same Day" = 0 ))
GroupedData <- GroupedData(GroupedData, !is.na(BOOKED))
GroupedData <- filter(GroupedData, !is.na(BOOKED))
str(GroupedData)
testdf <- head(GroupedData,10)
View(testdf)
testdf %<>%
mutate(Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
testdf %<>%
mutate(Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
library(magrittr)
testdf %<>%
mutate(Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
testdf %<>% mutate(Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
mutate(Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
mutate(testdf, Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y")
mutate(testdf, Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y"))
testdfdates <- subset(testdf, select = c(Appointment_Date))
View(testdfdates)
testdfdates$Appointment_Date <- str_replace_all(testdfdates$Appointment_Date, 'APR', '-04-')
library('stringr')
testdfdates$Appointment_Date <- str_replace_all(testdfdates$Appointment_Date, 'APR', '-04-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'APR', '-04-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'JAN', '-01-')
View(GroupedData)
View(testdfdates)
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'FEB', '-02-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'MAR', '-03-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'MAY', '-05-')
View(testdfdates)
mutate(testdfdates, Appointment_Date= as.Date(Appointment_Date, format= "%d.%m.%Y"))
mutate(testdfdates, Appointment_Date= as.Date(Appointment_Date, format= "%d-%m-%Y"))
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'JUN', '-06-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'JUL', '-07-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'AUG', '-08-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'SEP', '-09-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'OCT', '-10-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'NOV', '-11-')
GroupedData$Appointment_Date <- str_replace_all(GroupedData$Appointment_Date, 'DEC', '-12-')
mutate(GroupedData, Appointment_Date= as.Date(Appointment_Date, format= "%d-%m-%Y"))
View(testdf)
testtobook <- filter(testdf, BOOKED == 5)
View(testtobook)
ToBook <- filter(GroupedData, BOOKED == 0)
testtobook <- filter(testdf, BOOKED != 5)
PreBooked <- filter(GroupedData, BOOKED != 0)
group_by(testtobook, Appointment_Date) %>%
summarise(n=n())
CountPreBooked <- group_by(PreBooked, Appointment_Date) %>% summarise(n=n())
CountToBook <- group_by(ToBook, Appointment_Date) %>% summarise(n=n())
View(CountPreBooked)
